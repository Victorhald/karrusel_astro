---

import Arrow from "../../components/Arrow.astro";
import Burger from "../../components/Burger.astro";
import Footer from "../../components/Footer.astro";

export async function getStaticPaths() {
  const data = await fetch(
    "https://kemdlydyowtrowxxopgj.supabase.co/rest/v1/Karrusel",
    {
      method: "GET",
      headers: {
        apikey:
          "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtlbWRseWR5b3d0cm93eHhvcGdqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTA3NjMyMDIsImV4cCI6MjAyNjMzOTIwMn0.m23hb_lr-l9cO0p8JuFmWXf9JyuhcfeYoV7rBGEU4wY",
      },
    }
  ).then((response) => response.json());

  return data.map((artist) => {
    return {
      params: { slug: artist.slug },
      props: { myData: artist },
    };
  });
}

const { myData } = Astro.props;
console.log(myData);
---

<head>
  <meta charset="utf-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width" />
  <meta name="generator" content={Astro.generator} />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@100&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet"
  />
  <title>Astro</title>
</head>
<body>
  <header>
    <Burger />
  </header>
  <div class="grid_1_artist">
    <h1>{myData.artist}</h1>
    <h2>{myData.playing_date}</h2>
    <h2>{myData.scene}</h2>
    <p>{myData.description}</p>
    <div>
      <img src={"/img/artist_kort/" + myData.image} alt="billede af artist" />
    </div>
  </div>

  <footer>
    <Footer />
  </footer>
</body>
<style>
  body {
    background-image: url(/public/baggrund_img4.jpg);
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }

  img {
    border: 1px solid white;
    max-width: 500px;
    height: 100%;
    clip-path: inset(80px 40px 80px 15px);
  }
  .grid_1_artist {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }
</style>
